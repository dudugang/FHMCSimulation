\hypertarget{classcomposite_barrier}{\section{composite\-Barrier Class Reference}
\label{classcomposite_barrier}\index{composite\-Barrier@{composite\-Barrier}}
}


Class which tracks all barriers (superimposed) which interact with a given species.  




{\ttfamily \#include $<$barrier.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcomposite_barrier_a84b553543dddd5177980f5e5a5616af3}{composite\-Barrier} ()
\item 
\hyperlink{classcomposite_barrier_a1362afbee9253343a95734b10953ccee}{$\sim$composite\-Barrier} ()
\begin{DoxyCompactList}\small\item\em Free any system barriers present. \end{DoxyCompactList}\item 
void \hyperlink{classcomposite_barrier_a9b40ae6dd65d5f92d8dc8b63301e14f6}{clear\-All} ()
\begin{DoxyCompactList}\small\item\em Clear any barriers that are currently in the class. \end{DoxyCompactList}\item 
void \hyperlink{classcomposite_barrier_a10e7f2561e3b5167b69ead011dde2e75}{add\-Hard\-Wall\-Z} (const double lb, const double ub, const double sigma, const int M=1)
\begin{DoxyCompactList}\small\item\em Add a hard wall to interact with. \end{DoxyCompactList}\item 
void \hyperlink{classcomposite_barrier_a3cb5df17c75d9ff8ccc44b806871b449}{add\-Square\-Well\-Wall\-Z} (const double lb, const double ub, const double sigma, const double range, const double eps, const int M=1)
\begin{DoxyCompactList}\small\item\em Add a square well wall to interact with. \end{DoxyCompactList}\item 
void \hyperlink{classcomposite_barrier_afd40edf14705cf306c72120bb8a59042}{add\-Cylinder\-Z} (const double x, const double y, const double radius, const double width, const double sigma, const double eps, const int M=1)
\begin{DoxyCompactList}\small\item\em Add a cylinder along z = 0 axis wall to interact with. \end{DoxyCompactList}\item 
void \hyperlink{classcomposite_barrier_aea879332cf03f00463b9c8ca4ca28680}{add\-Right\-Triangle\-X\-Z} (const double width, const double theta, const double lam\-W, const double eps, const double sigma, const double sep, const double offset, const std\-::vector$<$ double $>$ \&box, const double zbase, bool top=false, const int M=1)
\begin{DoxyCompactList}\small\item\em Add a right\-Triangle\-Z feature to interact with. \end{DoxyCompactList}\item 
bool \hyperlink{classcomposite_barrier_a20989cccc8f4a14df710c2eb7cbd1e71}{inside} (const \hyperlink{classatom}{atom} $\ast$a1, const std\-::vector$<$ double $>$ \&box)
\begin{DoxyCompactList}\small\item\em Test if inside A\-L\-L the barriers. \end{DoxyCompactList}\item 
double \hyperlink{classcomposite_barrier_ac464755b3a2b31643bb70ddb84b0d399}{energy} (const \hyperlink{classatom}{atom} $\ast$a1, const std\-::vector$<$ double $>$ \&box)
\begin{DoxyCompactList}\small\item\em Find the total energy of interaction from A\-L\-L the barriers. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class which tracks all barriers (superimposed) which interact with a given species. 

Definition at line 112 of file barrier.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classcomposite_barrier_a84b553543dddd5177980f5e5a5616af3}{\index{composite\-Barrier@{composite\-Barrier}!composite\-Barrier@{composite\-Barrier}}
\index{composite\-Barrier@{composite\-Barrier}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{composite\-Barrier}]{\setlength{\rightskip}{0pt plus 5cm}composite\-Barrier\-::composite\-Barrier (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classcomposite_barrier_a84b553543dddd5177980f5e5a5616af3}


Definition at line 114 of file barrier.\-h.



References clear\-All().


\begin{DoxyCode}
114 \{ \hyperlink{classcomposite_barrier_a9b40ae6dd65d5f92d8dc8b63301e14f6}{clearAll}(); \}
\end{DoxyCode}
\hypertarget{classcomposite_barrier_a1362afbee9253343a95734b10953ccee}{\index{composite\-Barrier@{composite\-Barrier}!$\sim$composite\-Barrier@{$\sim$composite\-Barrier}}
\index{$\sim$composite\-Barrier@{$\sim$composite\-Barrier}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{$\sim$composite\-Barrier}]{\setlength{\rightskip}{0pt plus 5cm}composite\-Barrier\-::$\sim$composite\-Barrier (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_a1362afbee9253343a95734b10953ccee}


Free any system barriers present. 



Definition at line 740 of file barrier.\-cpp.


\begin{DoxyCode}
740                                      \{
741     sysBarriers\_.clear();
742 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classcomposite_barrier_afd40edf14705cf306c72120bb8a59042}{\index{composite\-Barrier@{composite\-Barrier}!add\-Cylinder\-Z@{add\-Cylinder\-Z}}
\index{add\-Cylinder\-Z@{add\-Cylinder\-Z}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{add\-Cylinder\-Z}]{\setlength{\rightskip}{0pt plus 5cm}void composite\-Barrier\-::add\-Cylinder\-Z (
\begin{DoxyParamCaption}
\item[{const double}]{x, }
\item[{const double}]{y, }
\item[{const double}]{radius, }
\item[{const double}]{width, }
\item[{const double}]{sigma, }
\item[{const double}]{eps, }
\item[{const int}]{M = {\ttfamily 1}}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_afd40edf14705cf306c72120bb8a59042}


Add a cylinder along z = 0 axis wall to interact with. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & x-\/coordinate of cylinder's center \\
\hline
\mbox{\tt in}  & {\em y} & y-\/coordinate of cylinder's center \\
\hline
\mbox{\tt in}  & {\em radius} & Radius of cylinder \\
\hline
\mbox{\tt in}  & {\em width} & Width of square-\/well-\/like interaction (distance from wall) \\
\hline
\mbox{\tt in}  & {\em sigma} & Hard-\/sphere diameter the species this wall interacts with can approach within \\
\hline
\mbox{\tt in}  & {\em eps} & Magnitude of the wall interaction (U = -\/eps) \\
\hline
\mbox{\tt in}  & {\em M} & Total number of expanded ensemble states possible for this atom type (defaults to 1) \\
\hline
\end{DoxyParams}


Definition at line 702 of file barrier.\-cpp.


\begin{DoxyCode}
702                                                                                                            
                                                          \{
703     \textcolor{keywordflow}{try} \{
704         \textcolor{keyword}{auto} barr = std::make\_shared < cylinderZ > (x, y, radius, width, sigma, eps, M);
705         sysBarriers\_.push\_back(barr);
706     \} \textcolor{keywordflow}{catch} (std::exception &ex) \{
707         \textcolor{keyword}{const} std::string msg = ex.what();
708         \textcolor{keywordflow}{throw} \hyperlink{classcustom_exception}{customException} (\textcolor{stringliteral}{"Cannot add cylinderZ to composite barrier : "}+msg);
709     \}
710 \}
\end{DoxyCode}
\hypertarget{classcomposite_barrier_a10e7f2561e3b5167b69ead011dde2e75}{\index{composite\-Barrier@{composite\-Barrier}!add\-Hard\-Wall\-Z@{add\-Hard\-Wall\-Z}}
\index{add\-Hard\-Wall\-Z@{add\-Hard\-Wall\-Z}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{add\-Hard\-Wall\-Z}]{\setlength{\rightskip}{0pt plus 5cm}void composite\-Barrier\-::add\-Hard\-Wall\-Z (
\begin{DoxyParamCaption}
\item[{const double}]{lb, }
\item[{const double}]{ub, }
\item[{const double}]{sigma, }
\item[{const int}]{M = {\ttfamily 1}}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_a10e7f2561e3b5167b69ead011dde2e75}


Add a hard wall to interact with. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lb} & z-\/\-Position of the lower wall \\
\hline
\mbox{\tt in}  & {\em ub} & z-\/\-Position of the upper wall \\
\hline
\mbox{\tt in}  & {\em sigma} & Hard-\/sphere diameter the species this wall interacts with can approach within \\
\hline
\mbox{\tt in}  & {\em M} & Total number of expanded ensemble states possible for this atom type (defaults to 1) \\
\hline
\end{DoxyParams}


Definition at line 661 of file barrier.\-cpp.


\begin{DoxyCode}
661                                                                                                       \{
662     \textcolor{keywordflow}{try} \{
663         \textcolor{keyword}{auto} barr = std::make\_shared < hardWallZ > (lb, ub, sigma, M);
664         sysBarriers\_.push\_back(barr);
665     \} \textcolor{keywordflow}{catch} (std::exception &ex) \{
666         \textcolor{keyword}{const} std::string msg = ex.what();
667         \textcolor{keywordflow}{throw} \hyperlink{classcustom_exception}{customException} (\textcolor{stringliteral}{"Cannot add hardWallZ to composite barrier : "}+msg);
668     \}
669 \}
\end{DoxyCode}
\hypertarget{classcomposite_barrier_aea879332cf03f00463b9c8ca4ca28680}{\index{composite\-Barrier@{composite\-Barrier}!add\-Right\-Triangle\-X\-Z@{add\-Right\-Triangle\-X\-Z}}
\index{add\-Right\-Triangle\-X\-Z@{add\-Right\-Triangle\-X\-Z}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{add\-Right\-Triangle\-X\-Z}]{\setlength{\rightskip}{0pt plus 5cm}void composite\-Barrier\-::add\-Right\-Triangle\-X\-Z (
\begin{DoxyParamCaption}
\item[{const double}]{width, }
\item[{const double}]{theta, }
\item[{const double}]{lam\-W, }
\item[{const double}]{eps, }
\item[{const double}]{sigma, }
\item[{const double}]{sep, }
\item[{const double}]{offset, }
\item[{const std\-::vector$<$ double $>$ \&}]{box, }
\item[{const double}]{zbase, }
\item[{bool}]{top = {\ttfamily false}, }
\item[{const int}]{M = {\ttfamily 1}}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_aea879332cf03f00463b9c8ca4ca28680}


Add a right\-Triangle\-Z feature to interact with. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em width} & Width of triangle's feature \\
\hline
\mbox{\tt in}  & {\em theta} & Elevation angle of the feature in radians (0, P\-I) \\
\hline
\mbox{\tt in}  & {\em lam\-W} & Attractive range ratio relative to hard sphere in contact with the feature (akin to square well), must be $>$= 1 \\
\hline
\mbox{\tt in}  & {\em eps} & Attraction strength to feature \\
\hline
\mbox{\tt in}  & {\em sigma} & Hard sphere diameter of interaction with the feature \\
\hline
\mbox{\tt in}  & {\em sep} & Distance between features \\
\hline
\mbox{\tt in}  & {\em offset} & Offset from x = 0 position of the first feature \\
\hline
\mbox{\tt in}  & {\em box} & System box size to check the feature (as specified) is periodic in the box \\
\hline
\mbox{\tt in}  & {\em zbase} & Z-\/coordinate of X\-Y plane that defines the base of the feature. To avoid periodicity effects be sure it is $>$ 0 and less than Lz, but this depends on other interactions so it cannot be checked automatically here. \\
\hline
\mbox{\tt in}  & {\em top} & If true, feature is on the \char`\"{}top\char`\"{}, else is on the bottom (default) \\
\hline
\mbox{\tt in}  & {\em Number} & of expanded ensemble states to recognize (default = 1) \\
\hline
\end{DoxyParams}


Definition at line 727 of file barrier.\-cpp.


\begin{DoxyCode}
727                                                                                                            
                                                                                                                  
                                            \{
728     \textcolor{keywordflow}{try} \{
729         \textcolor{keyword}{auto} barr = std::make\_shared < rightTriangleXZ > (width, theta, lamW, eps, sigma, sep, offset, box,
       zbase, top, M);
730         sysBarriers\_.push\_back(barr);
731     \} \textcolor{keywordflow}{catch} (std::exception &ex) \{
732         \textcolor{keyword}{const} std::string msg = ex.what();
733         \textcolor{keywordflow}{throw} \hyperlink{classcustom_exception}{customException} (\textcolor{stringliteral}{"Cannot add rightTriangleXZ to composite barrier : "}+msg);
734     \}
735 \}
\end{DoxyCode}
\hypertarget{classcomposite_barrier_a3cb5df17c75d9ff8ccc44b806871b449}{\index{composite\-Barrier@{composite\-Barrier}!add\-Square\-Well\-Wall\-Z@{add\-Square\-Well\-Wall\-Z}}
\index{add\-Square\-Well\-Wall\-Z@{add\-Square\-Well\-Wall\-Z}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{add\-Square\-Well\-Wall\-Z}]{\setlength{\rightskip}{0pt plus 5cm}void composite\-Barrier\-::add\-Square\-Well\-Wall\-Z (
\begin{DoxyParamCaption}
\item[{const double}]{lb, }
\item[{const double}]{ub, }
\item[{const double}]{sigma, }
\item[{const double}]{range, }
\item[{const double}]{eps, }
\item[{const int}]{M = {\ttfamily 1}}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_a3cb5df17c75d9ff8ccc44b806871b449}


Add a square well wall to interact with. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lb} & z-\/\-Position of the lower wall \\
\hline
\mbox{\tt in}  & {\em ub} & z-\/\-Position of the upper wall \\
\hline
\mbox{\tt in}  & {\em sigma} & Hard-\/sphere diameter the species this wall interacts with can approach within \\
\hline
\mbox{\tt in}  & {\em range} & Distance normal to the wall's surface where there is an interaction \\
\hline
\mbox{\tt in}  & {\em eps} & Magnitude of the wall interaction (U = -\/eps) \\
\hline
\mbox{\tt in}  & {\em M} & Total number of expanded ensemble states possible for this atom type (defaults to 1) \\
\hline
\end{DoxyParams}


Definition at line 681 of file barrier.\-cpp.


\begin{DoxyCode}
681                                                                                                            
                                             \{
682     \textcolor{keywordflow}{try} \{
683         \textcolor{keyword}{auto} barr = std::make\_shared < squareWellWallZ > (lb, ub, sigma, range, eps, M);
684         sysBarriers\_.push\_back(barr);
685     \} \textcolor{keywordflow}{catch} (std::exception &ex) \{
686         \textcolor{keyword}{const} std::string msg = ex.what();
687         \textcolor{keywordflow}{throw} \hyperlink{classcustom_exception}{customException} (\textcolor{stringliteral}{"Cannot add squareWellWallZ to composite barrier : "}+msg);
688     \}
689 \}
\end{DoxyCode}
\hypertarget{classcomposite_barrier_a9b40ae6dd65d5f92d8dc8b63301e14f6}{\index{composite\-Barrier@{composite\-Barrier}!clear\-All@{clear\-All}}
\index{clear\-All@{clear\-All}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{clear\-All}]{\setlength{\rightskip}{0pt plus 5cm}void composite\-Barrier\-::clear\-All (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classcomposite_barrier_a9b40ae6dd65d5f92d8dc8b63301e14f6}


Clear any barriers that are currently in the class. 



Definition at line 117 of file barrier.\-h.



Referenced by composite\-Barrier().

\hypertarget{classcomposite_barrier_ac464755b3a2b31643bb70ddb84b0d399}{\index{composite\-Barrier@{composite\-Barrier}!energy@{energy}}
\index{energy@{energy}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{energy}]{\setlength{\rightskip}{0pt plus 5cm}double composite\-Barrier\-::energy (
\begin{DoxyParamCaption}
\item[{const {\bf atom} $\ast$}]{a1, }
\item[{const std\-::vector$<$ double $>$ \&}]{box}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_ac464755b3a2b31643bb70ddb84b0d399}


Find the total energy of interaction from A\-L\-L the barriers. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a1} & Pointer to atom with position to test -\/ this does N\-O\-T need to be in the simulation box a priori \\
\hline
\mbox{\tt in}  & {\em box} & Simulation box \\
\hline
\end{DoxyParams}


Definition at line 765 of file barrier.\-cpp.



References N\-U\-M\-\_\-\-I\-N\-F\-I\-N\-I\-T\-Y.


\begin{DoxyCode}
765                                                                                 \{
766     \textcolor{keywordtype}{double} U = 0.0;
767     \textcolor{keywordflow}{for} (std::vector < std::shared\_ptr < barrier > >::iterator it = sysBarriers\_.begin(); it != 
      sysBarriers\_.end(); ++it) \{
768         \textcolor{keywordtype}{double} dU = (*it)->energy (a1, box);
769         \textcolor{keywordflow}{if} (dU < \hyperlink{potentials_8h_ab94ab1d09e2291d03fe92a0e24a9d33b}{NUM\_INFINITY}) \{
770             U += dU;
771         \} \textcolor{keywordflow}{else} \{
772             \textcolor{keywordflow}{return} \hyperlink{potentials_8h_ab94ab1d09e2291d03fe92a0e24a9d33b}{NUM\_INFINITY};
773         \}
774     \}
775     \textcolor{keywordflow}{return} U;
776 \}
\end{DoxyCode}
\hypertarget{classcomposite_barrier_a20989cccc8f4a14df710c2eb7cbd1e71}{\index{composite\-Barrier@{composite\-Barrier}!inside@{inside}}
\index{inside@{inside}!compositeBarrier@{composite\-Barrier}}
\subsubsection[{inside}]{\setlength{\rightskip}{0pt plus 5cm}bool composite\-Barrier\-::inside (
\begin{DoxyParamCaption}
\item[{const {\bf atom} $\ast$}]{a1, }
\item[{const std\-::vector$<$ double $>$ \&}]{box}
\end{DoxyParamCaption}
)}}\label{classcomposite_barrier_a20989cccc8f4a14df710c2eb7cbd1e71}


Test if inside A\-L\-L the barriers. 

Returns false if outside any single one, but defaults to true (infinitely far away walls/barriers).


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a1} & Pointer to atom with position to test -\/ this does N\-O\-T need to be in the simulation box a priori \\
\hline
\mbox{\tt in}  & {\em box} & Simulation box \\
\hline
\end{DoxyParams}


Definition at line 750 of file barrier.\-cpp.


\begin{DoxyCode}
750                                                                               \{
751     \textcolor{keywordflow}{for} (std::vector < std::shared\_ptr < barrier > >::iterator it = sysBarriers\_.begin(); it != 
      sysBarriers\_.end(); ++it) \{
752         \textcolor{keywordflow}{if} (!(*it)->inside (a1, box)) \{
753             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
754         \}
755     \}
756     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
757 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/home/nam4/\-Desktop/sandbox/\-F\-H\-M\-C\-Simulation/src/\hyperlink{barrier_8h}{barrier.\-h}\item 
/home/nam4/\-Desktop/sandbox/\-F\-H\-M\-C\-Simulation/src/\hyperlink{barrier_8cpp}{barrier.\-cpp}\end{DoxyCompactItemize}
