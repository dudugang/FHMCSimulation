\hypertarget{utilities_8h}{\section{/home/nam4/\-Desktop/sandbox/\-F\-H\-M\-C\-Simulation/src/utilities.h File Reference}
\label{utilities_8h}\index{/home/nam4/\-Desktop/sandbox/\-F\-H\-M\-C\-Simulation/src/utilities.\-h@{/home/nam4/\-Desktop/sandbox/\-F\-H\-M\-C\-Simulation/src/utilities.\-h}}
}
{\ttfamily \#include $<$vector$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$sys/stat.\-h$>$}\\*
{\ttfamily \#include $<$cstdio$>$}\\*
{\ttfamily \#include $<$sstream$>$}\\*
{\ttfamily \#include $<$cmath$>$}\\*
{\ttfamily \#include $<$iomanip$>$}\\*
{\ttfamily \#include $<$ctime$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include \char`\"{}global.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rapidjson/include/rapidjson/document.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rapidjson/include/rapidjson/writer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rapidjson/include/rapidjson/stringbuffer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rapidjson/include/rapidjson/filereadstream.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rapidjson/include/rapidjson/prettywriter.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{utilities_8h_a08974c73a5b36c28b8ad1ef47fca77b0}{send\-Msg} (const std\-::string msg)
\begin{DoxyCompactList}\small\item\em Send a message to std\-::cout. \end{DoxyCompactList}\item 
void \hyperlink{utilities_8h_a6dacf3c3c19aa1e13a4d5a148fe5114e}{send\-Err} (const std\-::string msg)
\begin{DoxyCompactList}\small\item\em Send a message to std\-::cerr. \end{DoxyCompactList}\item 
void \hyperlink{utilities_8h_a3f494918ff3c252de4914c9905be04e7}{parse\-Json} (const std\-::string filename, rapidjson\-::\-Document \&doc)
\begin{DoxyCompactList}\small\item\em Parse a J\-S\-O\-N file and return the corresponding document. \end{DoxyCompactList}\item 
void \hyperlink{utilities_8h_a2c482530b256030d81cdbfcdc1d191c3}{pause\-Code} (long int dur)
\begin{DoxyCompactList}\small\item\em Pause the code for a certain time. \end{DoxyCompactList}\item 
void \hyperlink{utilities_8h_ad858a38f435e9a0ee890aa0f526714d2}{pbc} (std\-::vector$<$ double $>$ \&pos, const std\-::vector$<$ double $>$ \&box)
\begin{DoxyCompactList}\small\item\em Replace a position inside a box assuming periodic boundary conditions. \end{DoxyCompactList}\item 
bool \hyperlink{utilities_8h_a9d1e3672fd331d4185c1763c80226307}{file\-Exists} (std\-::string file\-Name)
\begin{DoxyCompactList}\small\item\em Function to check whether a given file exists or not. \end{DoxyCompactList}\item 
double \hyperlink{utilities_8h_a0f9542af4b475ac79cb679d7a8d14db0}{rng} (int $\ast$idum)
\begin{DoxyCompactList}\small\item\em Random number generator (from Numerical Recipes) \end{DoxyCompactList}\item 
double \hyperlink{utilities_8h_abb1db3a8a3ac46e044bbe7b2c5684c0a}{pbc\-Dist2} (const std\-::vector$<$ double $>$ \&p1, const std\-::vector$<$ double $>$ \&p2, const std\-::vector$<$ double $>$ \&box)
\begin{DoxyCompactList}\small\item\em Calculate the minimum image distance squared between two coordinates assuming periodic boundary conditions. \end{DoxyCompactList}\item 
std\-::string \hyperlink{utilities_8h_aa6d910bf51f18a75deb20c6f0fbba285}{get\-Time\-Stamp} ()
\begin{DoxyCompactList}\small\item\em Obtain instantaneous timestamp. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\std\-::string \hyperlink{utilities_8h_ae6ed8fadf719af789711a7c0e99f44bc}{num\-To\-Str} (const T \&val)
\begin{DoxyCompactList}\small\item\em Convert a number to a string with 15 digits of precision. \end{DoxyCompactList}\item 
std\-::vector$<$ double $>$ \hyperlink{utilities_8h_af1bc480936b7436d4e679abc5a837815}{random3\-D\-Surface\-Vector} (const double magnitude)
\begin{DoxyCompactList}\small\item\em Chose a random vector sampled from a random distribution on the surface of a sphere. \end{DoxyCompactList}\item 
std\-::vector$<$ std\-::string $>$ \hyperlink{utilities_8h_ac84b085638619e2d7926ef816d833f7c}{splitstr} (const std\-::string \&s, char delim)
\begin{DoxyCompactList}\small\item\em C++ explode a string. \end{DoxyCompactList}\item 
std\-::vector$<$ std\-::vector\\*
$<$ double $>$ $>$ \hyperlink{utilities_8h_a2b3e32432e13d1a3feeb00de5466e456}{rotation\-Matrix} (const double alpha, const double beta, const double gamma)
\begin{DoxyCompactList}\small\item\em Create 3\-D rotation matrix from angles (x, then y, then z) \end{DoxyCompactList}\item 
std\-::vector$<$ std\-::vector\\*
$<$ double $>$ $>$ \hyperlink{utilities_8h_a198e6f6658163fec9b36be3542407727}{matrix\-Product} (std\-::vector$<$ std\-::vector$<$ double $>$ $>$ \&mat1, std\-::vector$<$ std\-::vector$<$ double $>$ $>$ \&mat2)
\begin{DoxyCompactList}\small\item\em Compute product of 2 matrices, W = U\-V. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{utilities_8h_a9d1e3672fd331d4185c1763c80226307}{\index{utilities.\-h@{utilities.\-h}!file\-Exists@{file\-Exists}}
\index{file\-Exists@{file\-Exists}!utilities.h@{utilities.\-h}}
\subsubsection[{file\-Exists}]{\setlength{\rightskip}{0pt plus 5cm}bool file\-Exists (
\begin{DoxyParamCaption}
\item[{std\-::string}]{file\-Name}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a9d1e3672fd331d4185c1763c80226307}


Function to check whether a given file exists or not. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\-Name} & Name of file to check\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If file exists 
\end{DoxyReturn}


Definition at line 272 of file utilities.\-cpp.



Referenced by checkpoint\-::checkpoint(), checkpoint\-::dump(), checkpoint\-::load(), and tabulated\-::load\-Potential().


\begin{DoxyCode}
272                                     \{
273     \textcolor{keyword}{struct }stat stFileInfo;
274 
275     \textcolor{keywordflow}{if} (stat(fileName.c\_str(),&stFileInfo) == 0)
276         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
277     \textcolor{keywordflow}{else}
278         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
279 \}
\end{DoxyCode}
\hypertarget{utilities_8h_aa6d910bf51f18a75deb20c6f0fbba285}{\index{utilities.\-h@{utilities.\-h}!get\-Time\-Stamp@{get\-Time\-Stamp}}
\index{get\-Time\-Stamp@{get\-Time\-Stamp}!utilities.h@{utilities.\-h}}
\subsubsection[{get\-Time\-Stamp}]{\setlength{\rightskip}{0pt plus 5cm}std\-::string get\-Time\-Stamp (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{utilities_8h_aa6d910bf51f18a75deb20c6f0fbba285}


Obtain instantaneous timestamp. 

\begin{DoxyReturn}{Returns}
char$\ast$ timestamp 
\end{DoxyReturn}


Definition at line 91 of file utilities.\-cpp.



Referenced by checkpoint\-::dump(), moves\-::print(), send\-Err(), and send\-Msg().


\begin{DoxyCode}
91                           \{
92     time\_t rawtime;
93     time (&rawtime);
94     \textcolor{keyword}{struct }tm * timeinfo;
95     timeinfo = localtime (&rawtime);
96     \textcolor{keywordtype}{char} timestamp [80];
97     strftime (timestamp,80,\textcolor{stringliteral}{"%d/%m/%Y %H:%M:%S"},timeinfo);
98     std::string ans (timestamp);
99     \textcolor{keywordflow}{return} ans;
100 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a198e6f6658163fec9b36be3542407727}{\index{utilities.\-h@{utilities.\-h}!matrix\-Product@{matrix\-Product}}
\index{matrix\-Product@{matrix\-Product}!utilities.h@{utilities.\-h}}
\subsubsection[{matrix\-Product}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ std\-::vector $<$ double $>$ $>$ matrix\-Product (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ std\-::vector$<$ double $>$ $>$ \&}]{mat1, }
\item[{std\-::vector$<$ std\-::vector$<$ double $>$ $>$ \&}]{mat2}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a198e6f6658163fec9b36be3542407727}


Compute product of 2 matrices, W = U\-V. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mat1} & Matrix U \\
\hline
\mbox{\tt in}  & {\em mat2} & Matrix V \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
W 
\end{DoxyReturn}


Definition at line 109 of file utilities.\-cpp.



Referenced by rotation\-Matrix().


\begin{DoxyCode}
109                                                                                                            
                                 \{
110     std::vector < double > dummy (3, 0);
111     std::vector < std::vector < double > > W (3, dummy);
112 
113     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < 3; ++i) \{
114         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
115             W[i][j] = mat1[i][j]*mat2[j][i];
116         \}
117     \}
118 
119     \textcolor{keywordflow}{return} W;
120 \}
\end{DoxyCode}
\hypertarget{utilities_8h_ae6ed8fadf719af789711a7c0e99f44bc}{\index{utilities.\-h@{utilities.\-h}!num\-To\-Str@{num\-To\-Str}}
\index{num\-To\-Str@{num\-To\-Str}!utilities.h@{utilities.\-h}}
\subsubsection[{num\-To\-Str}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ std\-::string num\-To\-Str (
\begin{DoxyParamCaption}
\item[{const T \&}]{val}
\end{DoxyParamCaption}
)}}\label{utilities_8h_ae6ed8fadf719af789711a7c0e99f44bc}


Convert a number to a string with 15 digits of precision. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em val} & Double precision value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string Representation of this value 
\end{DoxyReturn}


Definition at line 44 of file utilities.\-h.



Referenced by moves\-::add\-Delete(), moves\-::add\-Insert(), sim\-System\-::add\-Potential(), moves\-::add\-Swap(), moves\-::add\-Translate(), check\-Bounds(), tabulated\-::energy(), initialize(), tabulated\-::load\-Potential(), perform\-Crossover(), perform\-T\-M\-M\-C(), perform\-W\-A\-L\-A(), sanity\-Checks(), set\-Config(), set\-Moves(), and set\-Pair\-Potentials().


\begin{DoxyCode}
44                                                          \{
45    std::ostringstream os;
46    os << std::setprecision(15) << val;
47    \textcolor{keywordflow}{return} os.str();
48 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a3f494918ff3c252de4914c9905be04e7}{\index{utilities.\-h@{utilities.\-h}!parse\-Json@{parse\-Json}}
\index{parse\-Json@{parse\-Json}!utilities.h@{utilities.\-h}}
\subsubsection[{parse\-Json}]{\setlength{\rightskip}{0pt plus 5cm}void parse\-Json (
\begin{DoxyParamCaption}
\item[{const std\-::string}]{filename, }
\item[{rapidjson\-::\-Document \&}]{doc}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a3f494918ff3c252de4914c9905be04e7}


Parse a J\-S\-O\-N file and return the corresponding document. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em filename} & Input J\-S\-O\-N document's filename \\
\hline
\mbox{\tt in,out}  & {\em doc} & Document object to store in \\
\hline
\end{DoxyParams}


Definition at line 45 of file utilities.\-cpp.



References send\-Msg().



Referenced by initialize(), checkpoint\-::load(), and set\-Config().


\begin{DoxyCode}
45                                                                   \{
46     \textcolor{keywordflow}{try} \{
47         FILE* fp = fopen(filename.c\_str(), \textcolor{stringliteral}{"r"});
48         \textcolor{keywordtype}{char} readBuffer[65536];
49         rapidjson::FileReadStream is(fp, readBuffer, \textcolor{keyword}{sizeof}(readBuffer));
50         doc.ParseStream(is);
51         fclose(fp);
52     \} \textcolor{keywordflow}{catch} (...) \{
53         \textcolor{keywordflow}{throw} \hyperlink{classcustom_exception}{customException} (\textcolor{stringliteral}{"Unable to parse "}+filename);
54     \}
55 
56     \textcolor{keywordflow}{if} (doc.IsObject()) \{
57         \hyperlink{utilities_8cpp_a08974c73a5b36c28b8ad1ef47fca77b0}{sendMsg}(\textcolor{stringliteral}{"Parsed JSON file "}+filename);
58     \} \textcolor{keywordflow}{else} \{
59         \textcolor{keywordflow}{throw} \hyperlink{classcustom_exception}{customException} (\textcolor{stringliteral}{"Error in "}+filename+\textcolor{stringliteral}{", not begin detected as proper JSON
       document"});
60     \}
61 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a2c482530b256030d81cdbfcdc1d191c3}{\index{utilities.\-h@{utilities.\-h}!pause\-Code@{pause\-Code}}
\index{pause\-Code@{pause\-Code}!utilities.h@{utilities.\-h}}
\subsubsection[{pause\-Code}]{\setlength{\rightskip}{0pt plus 5cm}void pause\-Code (
\begin{DoxyParamCaption}
\item[{long int}]{dur}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a2c482530b256030d81cdbfcdc1d191c3}


Pause the code for a certain time. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dur} & Number of seconds to pause for \\
\hline
\end{DoxyParams}


Definition at line 68 of file utilities.\-cpp.


\begin{DoxyCode}
68                               \{
69     \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} temp = time(NULL) + dur;
70     \textcolor{keywordflow}{while}(temp > time(NULL));
71 \}
\end{DoxyCode}
\hypertarget{utilities_8h_ad858a38f435e9a0ee890aa0f526714d2}{\index{utilities.\-h@{utilities.\-h}!pbc@{pbc}}
\index{pbc@{pbc}!utilities.h@{utilities.\-h}}
\subsubsection[{pbc}]{\setlength{\rightskip}{0pt plus 5cm}void pbc (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ double $>$ \&}]{pos, }
\item[{const std\-::vector$<$ double $>$ \&}]{box}
\end{DoxyParamCaption}
)}}\label{utilities_8h_ad858a38f435e9a0ee890aa0f526714d2}


Replace a position inside a box assuming periodic boundary conditions. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em pos} & Position to be placed in box \\
\hline
\mbox{\tt in}  & {\em box} & Box dimensions \\
\hline
\end{DoxyParams}


Definition at line 228 of file utilities.\-cpp.



Referenced by hard\-Wall\-Z\-::energy(), square\-Well\-Wall\-Z\-::energy(), right\-Triangle\-X\-Z\-::energy(), hard\-Wall\-Z\-::inside(), and square\-Well\-Wall\-Z\-::inside().


\begin{DoxyCode}
228                                                                       \{
229     \textcolor{comment}{// generally while loops are faster than round statements}
230     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < pos.size(); ++i) \{
231         \textcolor{keywordflow}{while} (pos[i] < 0.0) \{
232             pos[i] += box[i];
233         \}
234         \textcolor{keywordflow}{while} (pos[i] >= box[i]) \{
235             pos[i] -= box[i];
236         \}
237     \}
238 \}
\end{DoxyCode}
\hypertarget{utilities_8h_abb1db3a8a3ac46e044bbe7b2c5684c0a}{\index{utilities.\-h@{utilities.\-h}!pbc\-Dist2@{pbc\-Dist2}}
\index{pbc\-Dist2@{pbc\-Dist2}!utilities.h@{utilities.\-h}}
\subsubsection[{pbc\-Dist2}]{\setlength{\rightskip}{0pt plus 5cm}double pbc\-Dist2 (
\begin{DoxyParamCaption}
\item[{const std\-::vector$<$ double $>$ \&}]{p1, }
\item[{const std\-::vector$<$ double $>$ \&}]{p2, }
\item[{const std\-::vector$<$ double $>$ \&}]{box}
\end{DoxyParamCaption}
)}}\label{utilities_8h_abb1db3a8a3ac46e044bbe7b2c5684c0a}


Calculate the minimum image distance squared between two coordinates assuming periodic boundary conditions. 

Coordinates do not have to be in the box to begin with.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \textbackslash{}p1} & Position 1 \\
\hline
\mbox{\tt in}  & {\em \textbackslash{}p1} & Position 2 \\
\hline
\mbox{\tt in}  & {\em \textbackslash{}box} & Box size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
d2 (distance squared) 
\end{DoxyReturn}


Definition at line 249 of file utilities.\-cpp.



Referenced by lennard\-Jones\-::energy(), fs\-Lennard\-Jones\-::energy(), cylinder\-Z\-::energy(), tabulated\-::energy(), square\-Well\-::energy(), hard\-Core\-::energy(), cylinder\-Z\-::inside(), and agg\-Vol\-Bias3\-::make().


\begin{DoxyCode}
249                                                                                                            
             \{
250     \textcolor{keywordtype}{double} d2 = 0.0;
251     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < p2.size(); ++i) \{
252         \textcolor{keywordtype}{double} dr = p2[i] - p1[i];
253         \textcolor{keywordflow}{while} (dr < -box[i]/2.0) \{
254             dr += box[i];
255         \}
256         \textcolor{keywordflow}{while} (dr > box[i]/2.0) \{
257             dr -= box[i];
258         \}
259         d2 += dr*dr;
260     \}
261 
262     \textcolor{keywordflow}{return} d2;
263 \}
\end{DoxyCode}
\hypertarget{utilities_8h_af1bc480936b7436d4e679abc5a837815}{\index{utilities.\-h@{utilities.\-h}!random3\-D\-Surface\-Vector@{random3\-D\-Surface\-Vector}}
\index{random3\-D\-Surface\-Vector@{random3\-D\-Surface\-Vector}!utilities.h@{utilities.\-h}}
\subsubsection[{random3\-D\-Surface\-Vector}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ double $>$ random3\-D\-Surface\-Vector (
\begin{DoxyParamCaption}
\item[{const double}]{magnitude}
\end{DoxyParamCaption}
)}}\label{utilities_8h_af1bc480936b7436d4e679abc5a837815}


Chose a random vector sampled from a random distribution on the surface of a sphere. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em magnitude} & Mangitude of the vector (radius of sphere)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ans double3 containing coordinates of vector 
\end{DoxyReturn}


Definition at line 166 of file utilities.\-cpp.



References rng(), and R\-N\-G\-\_\-\-S\-E\-E\-D.



Referenced by agg\-Vol\-Bias3\-::make().


\begin{DoxyCode}
166                                                                     \{
167     \textcolor{keywordtype}{int} success = 0;
168     std::vector < double > ans (3, 0);
169     \textcolor{keywordflow}{while} (success == 0) \{
170         \textcolor{keywordtype}{double} r1 = \hyperlink{utilities_8cpp_a0f9542af4b475ac79cb679d7a8d14db0}{rng}(&\hyperlink{utilities_8cpp_a3f4e4ea24d5a5c66feae55d1f329c884}{RNG\_SEED}), r2 = \hyperlink{utilities_8cpp_a0f9542af4b475ac79cb679d7a8d14db0}{rng}(&\hyperlink{utilities_8cpp_a3f4e4ea24d5a5c66feae55d1f329c884}{RNG\_SEED}), x1 = 1.0-2.0*r1, x2 = 1.0-2.
      0*r2;
171         \textcolor{keywordtype}{double} sum2 = x1*x1+x2*x2;
172         \textcolor{keywordflow}{if} (sum2 < 1.0) \{
173             ans[0] = 2*x1*sqrt(1-sum2)*magnitude;
174             ans[1] = 2*x2*sqrt(1-sum2)*magnitude;
175             ans[2] = (1-2.0*sum2)*magnitude;
176             success = 1;
177         \}
178     \}
179     \textcolor{keywordflow}{return} ans;
180 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a0f9542af4b475ac79cb679d7a8d14db0}{\index{utilities.\-h@{utilities.\-h}!rng@{rng}}
\index{rng@{rng}!utilities.h@{utilities.\-h}}
\subsubsection[{rng}]{\setlength{\rightskip}{0pt plus 5cm}double rng (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{idum}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a0f9542af4b475ac79cb679d7a8d14db0}


Random number generator (from Numerical Recipes) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em idum} & seed\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
temp Pseudo-\/random number between \mbox{[}0, 1) 
\end{DoxyReturn}


Definition at line 189 of file utilities.\-cpp.



References A\-M, I\-A1, I\-A2, I\-M1, I\-M2, I\-M\-M1, I\-Q1, I\-Q2, I\-R1, I\-R2, N\-D\-I\-V, N\-T\-A\-B, and R\-N\-M\-X.



Referenced by agg\-Vol\-Bias3\-::make(), delete\-Particle\-::make(), translate\-Particle\-::make(), swap\-Particles\-::make(), insert\-Particle\-::make(), moves\-::make\-Move(), random3\-D\-Surface\-Vector(), and quaternion\-::set\-Random\-Rot().


\begin{DoxyCode}
189                        \{
190     \textcolor{keywordtype}{int} j;
191     \textcolor{keywordtype}{long} k;
192     \textcolor{keyword}{static} \textcolor{keywordtype}{long} idum2=123456789;
193     \textcolor{keyword}{static} \textcolor{keywordtype}{long} iy=0;
194     \textcolor{keyword}{static} \textcolor{keywordtype}{long} iv[\hyperlink{utilities_8cpp_a0e93cfb2d62849853fd34957ba6e6fdc}{NTAB}];
195     \textcolor{keywordtype}{double} temp;
196 
197     \textcolor{keywordflow}{if} (*idum <= 0) \{
198         \textcolor{keywordflow}{if} (-(*idum) < 1) *idum=1;
199         \textcolor{keywordflow}{else} *idum = -(*idum);
200         idum2=(*idum);
201         \textcolor{keywordflow}{for} (j=\hyperlink{utilities_8cpp_a0e93cfb2d62849853fd34957ba6e6fdc}{NTAB}+7;j>=0;j--) \{
202             k=(*idum)/\hyperlink{utilities_8cpp_a9afa86ff22da69bda72fe271ae71ad46}{IQ1};
203             *idum=\hyperlink{utilities_8cpp_a6ef2749dca39c605c3d033f788afe6e3}{IA1}*(*idum-k*\hyperlink{utilities_8cpp_a9afa86ff22da69bda72fe271ae71ad46}{IQ1})-k*\hyperlink{utilities_8cpp_a7b2b32709f9770a283701ffcf3723497}{IR1};
204             \textcolor{keywordflow}{if} (*idum < 0) *idum += \hyperlink{utilities_8cpp_a78325bdf48423acef7c012567628b391}{IM1};
205             \textcolor{keywordflow}{if} (j < \hyperlink{utilities_8cpp_a0e93cfb2d62849853fd34957ba6e6fdc}{NTAB}) iv[j] = *idum;
206         \} iy=iv[0];
207     \}
208     k=(*idum)/\hyperlink{utilities_8cpp_a9afa86ff22da69bda72fe271ae71ad46}{IQ1};
209     *idum=\hyperlink{utilities_8cpp_a6ef2749dca39c605c3d033f788afe6e3}{IA1}*(*idum-k*\hyperlink{utilities_8cpp_a9afa86ff22da69bda72fe271ae71ad46}{IQ1})-k*\hyperlink{utilities_8cpp_a7b2b32709f9770a283701ffcf3723497}{IR1};
210     \textcolor{keywordflow}{if} (*idum < 0) *idum += \hyperlink{utilities_8cpp_a78325bdf48423acef7c012567628b391}{IM1};
211     k=idum2/\hyperlink{utilities_8cpp_abae040385946a6acdf5e10d2efd86f3d}{IQ2};
212     idum2=\hyperlink{utilities_8cpp_a372a58d7e9e25912fd79e7afaa06cc7a}{IA2}*(idum2-k*\hyperlink{utilities_8cpp_abae040385946a6acdf5e10d2efd86f3d}{IQ2})-k*\hyperlink{utilities_8cpp_a5a08e4f5cb3582e623cc14a6c92d48de}{IR2};
213     \textcolor{keywordflow}{if} (idum2 < 0) idum2 += \hyperlink{utilities_8cpp_ad8c519de7e5de4ae35344ddcf21fd062}{IM2};
214     j=iy/\hyperlink{utilities_8cpp_a62339d74dd5d9d00480e1a288cf88fe8}{NDIV};
215     iy=iv[j]-idum2;
216     iv[j] = *idum;
217     \textcolor{keywordflow}{if} (iy < 1) iy += \hyperlink{utilities_8cpp_a87a6e0054f9d827c979c43aa0d5e621a}{IMM1};
218     \textcolor{keywordflow}{if} ((temp=\hyperlink{utilities_8cpp_ad301e6a88b1c01108f4867f2ea6f683c}{AM}*iy) > \hyperlink{utilities_8cpp_aa7436c9270ffb06f8c1eae8d2e605cec}{RNMX}) \textcolor{keywordflow}{return} \hyperlink{utilities_8cpp_aa7436c9270ffb06f8c1eae8d2e605cec}{RNMX};
219     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} temp;
220 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a2b3e32432e13d1a3feeb00de5466e456}{\index{utilities.\-h@{utilities.\-h}!rotation\-Matrix@{rotation\-Matrix}}
\index{rotation\-Matrix@{rotation\-Matrix}!utilities.h@{utilities.\-h}}
\subsubsection[{rotation\-Matrix}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ std\-::vector $<$ double $>$ $>$ rotation\-Matrix (
\begin{DoxyParamCaption}
\item[{const double}]{alpha, }
\item[{const double}]{beta, }
\item[{const double}]{gamma}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a2b3e32432e13d1a3feeb00de5466e456}


Create 3\-D rotation matrix from angles (x, then y, then z) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em alpha} & Radians to rotate centers by around x-\/axis \\
\hline
\mbox{\tt in}  & {\em beta} & Radians to rotate centers by around y-\/axis \\
\hline
\mbox{\tt in}  & {\em gamma} & Radians to rotate centers by around z-\/axis \\
\hline
\end{DoxyParams}


Definition at line 129 of file utilities.\-cpp.



References matrix\-Product().


\begin{DoxyCode}
129                                                                                                            
         \{
130 
131     std::vector < double > dummy (3, 0);
132     std::vector < std::vector < double > > Rx (3, dummy), Ry(3, dummy), Rz(3, dummy), Ryx, Rzyx;
133 
134     \textcolor{comment}{// https://en.wikipedia.org/wiki/Rotation\_matrix#General\_rotations}
135     Rx[0][0] = 1.0;
136     Rx[1][1] = cos(alpha);
137     Rx[1][2] = -sin(alpha);
138     Rx[2][1] = sin(alpha);
139     Rx[2][2] = cos(alpha);
140 
141     Ry[0][0] = cos(beta);
142     Ry[0][2] = sin(beta);
143     Ry[1][1] = 1.0;
144     Ry[2][0] = -sin(beta);
145     Ry[2][2] = cos(beta);
146 
147     Rz[0][0] = cos(gamma);
148     Rz[0][1] = -sin(gamma);
149     Rz[1][0] = sin(gamma);
150     Rz[1][1] = cos(gamma);
151     Rz[2][2] = 1.0;
152 
153     Ryx = \hyperlink{utilities_8cpp_a198e6f6658163fec9b36be3542407727}{matrixProduct}(Ry, Rx);
154     Rzyx = \hyperlink{utilities_8cpp_a198e6f6658163fec9b36be3542407727}{matrixProduct}(Rz, Ryx);
155 
156     \textcolor{keywordflow}{return} Rzyx;
157 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a6dacf3c3c19aa1e13a4d5a148fe5114e}{\index{utilities.\-h@{utilities.\-h}!send\-Err@{send\-Err}}
\index{send\-Err@{send\-Err}!utilities.h@{utilities.\-h}}
\subsubsection[{send\-Err}]{\setlength{\rightskip}{0pt plus 5cm}void send\-Err (
\begin{DoxyParamCaption}
\item[{const std\-::string}]{msg}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a6dacf3c3c19aa1e13a4d5a148fe5114e}


Send a message to std\-::cerr. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em msg} & Message as string \\
\hline
\end{DoxyParams}


Definition at line 35 of file utilities.\-cpp.



References get\-Time\-Stamp().



Referenced by sim\-System\-::add\-Potential(), check\-Bounds(), tabulated\-::energy(), initialize(), checkpoint\-::load(), moves\-::moves(), perform\-Crossover(), perform\-T\-M\-M\-C(), perform\-W\-A\-L\-A(), sim\-System\-::read\-Config(), sanity\-Checks(), set\-Config(), and set\-Moves().


\begin{DoxyCode}
35                                    \{
36     std::cerr << \textcolor{stringliteral}{" *** ERROR: "} << \hyperlink{utilities_8cpp_aa6d910bf51f18a75deb20c6f0fbba285}{getTimeStamp}() << \textcolor{stringliteral}{" : "} << msg << \textcolor{stringliteral}{" *** "} << std::endl;
37 \}
\end{DoxyCode}
\hypertarget{utilities_8h_a08974c73a5b36c28b8ad1ef47fca77b0}{\index{utilities.\-h@{utilities.\-h}!send\-Msg@{send\-Msg}}
\index{send\-Msg@{send\-Msg}!utilities.h@{utilities.\-h}}
\subsubsection[{send\-Msg}]{\setlength{\rightskip}{0pt plus 5cm}void send\-Msg (
\begin{DoxyParamCaption}
\item[{const std\-::string}]{msg}
\end{DoxyParamCaption}
)}}\label{utilities_8h_a08974c73a5b36c28b8ad1ef47fca77b0}


Send a message to std\-::cout. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em msg} & Message as string \\
\hline
\end{DoxyParams}


Definition at line 26 of file utilities.\-cpp.



References get\-Time\-Stamp().



Referenced by sim\-System\-::add\-Potential(), initialize(), checkpoint\-::load(), tabulated\-::load\-Potential(), parse\-Json(), perform\-Crossover(), perform\-T\-M\-M\-C(), perform\-W\-A\-L\-A(), sim\-System\-::read\-Config(), sanity\-Checks(), set\-Barriers(), and set\-Config().


\begin{DoxyCode}
26                                    \{
27     std::cout << \hyperlink{utilities_8cpp_aa6d910bf51f18a75deb20c6f0fbba285}{getTimeStamp}() << \textcolor{stringliteral}{" : "} << msg << std::endl;
28 \}
\end{DoxyCode}
\hypertarget{utilities_8h_ac84b085638619e2d7926ef816d833f7c}{\index{utilities.\-h@{utilities.\-h}!splitstr@{splitstr}}
\index{splitstr@{splitstr}!utilities.h@{utilities.\-h}}
\subsubsection[{splitstr}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ std\-::string $>$ splitstr (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{s, }
\item[{char}]{delim}
\end{DoxyParamCaption}
)}}\label{utilities_8h_ac84b085638619e2d7926ef816d833f7c}


C++ explode a string. 



Definition at line 76 of file utilities.\-cpp.


\begin{DoxyCode}
76                                                                   \{
77     std::stringstream ss(s);
78     std::string item;
79     std::vector <std::string> tokens;
80     \textcolor{keywordflow}{while} (std::getline(ss, item, delim)) \{
81         tokens.push\_back(item);
82     \}
83     \textcolor{keywordflow}{return} tokens;
84 \}
\end{DoxyCode}
